<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Wordlister Theme25</title>

    <link rel="icon" href="{{ url_for('static', filename='favicon.png') }}">
    <link rel="preconnect" href="https://fonts.gstatic.com"> 
    <link href="https://fonts.googleapis.com/css2?family=ABeeZee&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/tabs.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/main.css') }}">
    <link href='https://cdn.jsdelivr.net/npm/css.gg/icons/all.css' rel='stylesheet'>

    <!-- html2pdf -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!-- jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.4.1/jspdf.debug.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/2.3.4/jspdf.plugin.autotable.min.js"></script> -->
    <!-- <script src="https://rawgit.com/someatoms/jsPDF-AutoTable/master/dist/jspdf.plugin.autotable.js"></script> -->
    <script src="{{ url_for('static', filename='scripts/tabs.js') }}"></script>
    {% from "includes/formhelpers.html" import render_field %}

    {% if wordlist %}
    <script src="{{ url_for('static', filename='scripts/generate_pdf.js') }}"></script>
    <script src="{{ url_for('static', filename='scripts/filter.js') }}"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- <script src="{{ url_for('static', filename='scripts/script.js') }}"></script>  -->
    {% endif %}
</head>


<body>

    <div class="testArea" style="display: inline-flex; grid-gap: 12px;">
        <div class="test" style="margin-top: 0;">
            <h3 style="color:#01256b;">{{"ENG"}}</h3>
            <h3 style="color:#bfc0c2;">{{end}}</h3>
            <!-- <b><a href="/logout" style="color:#ff06c1;">logout</a></b> -->
            <b style="color:#b0bdff;">{{allWordsCount}} word</b>
            <br>
            <b style="color:#2edff7;">{{lenned}} unique</b>
            <br>
            <b style="color:orange">{{usedmemory}} mb</b>
        </div>
        <div class="wordtype" style="color: blueviolet; display: grid;">
            <b>noun: <span class="nounx"></span></b>
            <b>adj: <span class="adjx"></span></b>
            <b>verb: <span class="verbx"></span></b>
            <b>phrverb: <span class="phrverbx"></span></b>
            <b>undef: <span class="undefx"></span></b>
        </div>
        <div class="oxford" style="color: #bb08a5; display: grid;">
            <b>a1: <span class="a1x"></span></b>
            <b>a2: <span class="a2x"></span></b>
            <b>b1: <span class="b1x"></span></b>
            <b>b2: <span class="b2x"></span></b>
            <b>c1: <span class="c1x"></span></b>
            <b>other: <span class="otherx"></span></b>
        </div>

        {% if wordlist %}
        <div class="oxford" style="color: #054b14; display: grid;">
            <b>typical%: <span class="perc">{{stats.percentage["typical"]}}</span></b>
            <b>oxford%: <span class="perc">{{stats.percentage["oxford"]}}</span></b>
            <b>oxA%: <span class="perc">{{stats.percentage["oxA"]}}</span></b>
            <b>oxB%: <span class="perc">{{stats.percentage["oxB"]}}</span></b>
            <b>oxC%: <span class="perc">{{stats.percentage["oxC"]}}</span></b>
        </div>
        {% endif %}
    </div>

    <div id="container">
        <header class="tabs-nav">
            <a class="textarea btn active" href="#textarea"><i class="gg-file-document"></i></a>
            <a class="uploadfile btn" href="#uploadfile"><i class="gg-file-add"></i></a>
            <a class="getTxt btn" target="_blank" href="{{ url_for('download', filename="generated.txt") }}"><i class="gg-format-text"></i></a>
        </header>
        <section class="tabs-content">
            <div id="textarea">
                <form method="POST" class="text-center">
                    {{ render_field(form.text,class="form-control") }}
                    <button type="submit" class="btn btn-success">List it!</button>
                    <button id="download" type="button" class="btn btn-danger">PDF it!</button>
                </form>
            </div>
            <div id="uploadfile">
                <br>
                <form method="post" action="/" enctype="multipart/form-data" >
                    {{ render_field(form.mongo_title,class="mongo_title") }}
                    <input type="file" name="file" class="btn btn-upload">
                    <br>
                    <button type="submit" class="btn btn-success">List it!</button>
                    <button id="download" type="button" class="btn btn-danger">PDF it!</button>
                </form>
            </div>
        </section>
    </div>

    {% if wordlist %}
    <div class="filterArea">
        <select class="btn btn-primary" onchange="filter_words()" id="oxfordfilter">
            <option value="word">all levels</option>
            <option value="a1">a1</option>
            <option value="a2">a2</option>
            <option value="b1">b1</option>
            <option value="b2">b2</option>
            <option value="c1">c1</option>
            <option value="other">other</option>
        </select>

        <select class="btn btn-primary" onchange="filter_words()" id="typefilter">
            <option value="word">all types</option>
            <option value="noun">noun</option>
            <option value="adj">adj</option>
            <option value="verb">verb</option>
            <option value="phrverb">phrverb</option>
            <option value="undef">undef</option>
        </select>
    </div>
    {% endif %}

    <div class="wordsec" id="lesen">
        {% for element in wordlist %}
        <p class="word {{element[1][1]}} {{element[1][2]}}"> {{ element[0] }}  <b class="bcount"> {{ element[1][0] }}</b> </p>
        {% endfor %}
    </div>
</body>
</html>